#timeline
	figure
		min-height 480px
		position relative
		user-select none

		ul
			display flex
			justify-content center
			margin 0 auto
		
		li
			display flex
			flex-direction column
			text-align center
			line-height 1
			position relative
			cursor pointer
			overflow hidden
			&:first-child img 
				border-left-color $bg
			&:last-child img
				border-right-color $bg

			&:hover, &.is-focus
				overflow visible
				.country
					margin-bottom 110%
				.country.is-uk
					margin-bottom 140%
				.name
					visibility visible
					opacity 1
				.flag
					// box-shadow 0px 0px 8px $fg
					transform scale(1.5)
					z-index set-index(top)
					pointer-events none
					opacity 1
					img
						border-color $fg
	
	.figure__chart
		display flex
		flex-wrap wrap
		justify-content center
		flex-direction column
	
	.figure__annotation
		position absolute
		top 0
		width 100%
		height 100%
		pointer-events none
		z-index set-index(top)
		display none
		+mq('bp-5')
			display block
	
	.year
		position relative
		margin 0 auto
		font-weight 700
		width 85%
		min-width 280px
		max-width 40rem
		transform translateX(1rem)
		+mq('bp-5')
			margin 0
			margin-left 5rem
			width 67%
			transform translateX(0)
		+mq('bp-7')
			transform none
			margin 0 auto
			
		&:first-child img 
			border-top-color $bg
		&:first-child li
			overflow visible
		&:last-child img
			border-bottom-color $bg

		&.is-focus
			.title
				opacity 1
				+mq('bp-5')
					font-size 22px
				
			.flag
				opacity 1
			img
				// border-top-color $fg
				// border-bottom-color $fg

	.title
		text-align center
		position absolute
		bottom 0
		right 100%
		margin 0
		font-size 12px
		color $fg
		opacity 0.8
		transform translate(-0.5rem, 1px)
		letter-spacing 0.05em
		+mq('bp-8')
			transform translate(-1rem, 4px)

	.country
		position relative
	
	.flag
		display inline-block
		line-height 1
		transform scale(1)
		position relative
		background-color $fg
		opacity 1
		+mq('bp-8')
			opacity 0.65
		img
			border 1px solid $bg

	.name
		line-height 1
		set-type-size(root, false)
		letter-spacing 0.025em
		color $bg
		font-weight 700
		position absolute
		top 100%
		left 50%
		visibility hidden
		pointer-events none
		width 6rem
		background-color $fg
		color $bg
		font-weight 700
		z-index set-index(top)
		padding 0.25rem 0
		transform translate(-50%, 1rem)

	.layer
		position absolute
		bottom 0.25em
		right 0.35em
		opacity 1
		set-type-size(x-small, false)
		line-height 1
		text-shadow 0 0 3px $bg
		font-weight 700

	.figure__chart .month
		display none
		text-transform uppercase
		margin-bottom 0.5rem
		position absolute
		top 0
		left 0
		width 100%
		transform translateY(-200%)
		opacity 0.8
		letter-spacing 0.05em
		set-type-size(xxx-small, false)
		+mq('bp-3')
			set-type-size(xx-small, false)

	.year:first-of-type li .month
		display block
	
	
	.timeline__toggle
		position fixed
		bottom 1rem
		left 0
		z-index set-index(overlay)
		background-color $fg
		border-top 1px solid $bg
		border-right 1px solid $bg
		border-bottom 1px solid $bg
		padding 0.5rem
		set-type-size(x-small, false)
		line-height 1
		text-transform uppercase
		letter-spacing 0.05em
		font-weight 700
		color $bg
		cursor pointer
		width 9rem
		+mq('bp-8')
			display none